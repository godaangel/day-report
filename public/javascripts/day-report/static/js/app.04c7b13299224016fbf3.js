webpackJsonp([7],{M93x:function(n,t,e){"use strict";function a(n){e("szq8")}var o=e("xJD8"),i=e("hIJr"),s=e("VU/8"),r=a,u=s(o.a,i.a,!1,r,null,null);t.a=u.exports},NHnr:function(n,t,e){"use strict";function a(n,t){return window.sessionStorage[n]||t}Object.defineProperty(t,"__esModule",{value:!0});var o=e("7+uW"),i=e("M93x"),s=e("YaEn"),r=e("mo+Q"),u=e.n(r),c=e("WNRV"),l=(e.n(c),e("v5o6")),p=e.n(l);o.a.use(c.ToastPlugin),o.a.use(c.AlertPlugin),o.a.use(c.ConfirmPlugin),o.a.use(u.a),p.a.attach(document.body),o.a.config.productionTip=!1,s.a.beforeEach(function(n,t,e){o.a.$wii.toast.show({text:"加载中",type:"loading",time:5e3}),"required"!=n.meta.requireAuth?a("report_token")?e():e({path:"/login"}):e()}),s.a.afterEach(function(n,t){o.a.$wii.toast.hide()}),new o.a({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},YaEn:function(n,t,e){"use strict";var a=e("7+uW"),o=e("/ocq"),i=function(n){e.e(3).then(function(){n(e("Quw4"))}.bind(null,e)).catch(e.oe)},s=function(n){e.e(2).then(function(){n(e("31uc"))}.bind(null,e)).catch(e.oe)},r=function(n){e.e(0).then(function(){n(e("Lr34"))}.bind(null,e)).catch(e.oe)},u=function(n){e.e(1).then(function(){n(e("8h4e"))}.bind(null,e)).catch(e.oe)},c=function(n){e.e(5).then(function(){n(e("aEIN"))}.bind(null,e)).catch(e.oe)},l=function(n){e.e(4).then(function(){n(e("M/ZF"))}.bind(null,e)).catch(e.oe)};a.a.use(o.a);var p=new o.a({mode:"hash",routes:[{path:"/login",component:i,name:"login",meta:{requireAuth:"required"}},{path:"/index",component:s,name:"index"},{path:"/add",component:r,name:"add"},{path:"/export",component:c,name:"export"},{path:"/edit/:id",component:r,name:"edit"},{path:"/detail/:id",component:u,name:"detail"},{path:"/weekreport",component:l,name:"weekreport"},{path:"/",redirect:"/index",name:"default"}]});t.a=p},fIpt:function(n,t,e){"use strict";t.a={data:function(){return{token:window.sessionStorage.report_token}}}},hIJr:function(n,t,e){"use strict";var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"container",attrs:{id:"app"}},[n.isLogin?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("nav",{staticClass:"navbar navbar-inverse navbar-embossed",attrs:{role:"navigation"}},[n._m(0),n._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbar-collapse-01"}},[e("ul",{staticClass:"nav navbar-nav navbar-left"},[e("li",[e("router-link",{attrs:{to:{name:"index"}}},[n._v("日报列表")])],1),n._v(" "),e("li",[e("router-link",{attrs:{to:{name:"add"}}},[n._v("新增日报")])],1),n._v(" "),"admin"==n.loginUser||"nikoniu"==n.loginUser?e("li",[e("router-link",{attrs:{to:{name:"export"}}},[n._v("导出日报")])],1):n._e(),n._v(" "),e("li",[e("router-link",{attrs:{to:{name:"weekreport"}}},[n._v("获取周报")])],1)]),n._v(" "),e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("a",[n._v("欢迎，"+n._s(n.loginUser))])]),n._v(" "),e("li",[e("a",{on:{click:function(t){n.logout()}}},[n._v("退出登录")])])])])])])]):n._e(),n._v(" "),e("router-view",{staticClass:"view"})],1)},o=[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar-collapse-01"}},[e("span",{staticClass:"sr-only"},[n._v("Toggle navigation")])]),n._v(" "),e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[n._v("DayReport")])])}],i={render:a,staticRenderFns:o};t.a=i},szq8:function(n,t){},xJD8:function(n,t,e){"use strict";function a(n){window.sessionStorage.removeItem(n)}var o=e("fIpt");t.a={name:"app",data:function(){return{isLogin:null,loginUser:window.sessionStorage.report_username}},mixins:[o.a],mounted:function(){this.isLogin=!!this.token,this.$bus.on("loginTypeChange",this.loginTypeChange),this.$bus.on("loginNameChange",this.loginNameChange)},methods:{logout:function(){a("report_token"),this.$router.push({name:"login"}),this.isLogin=!1},loginTypeChange:function(n){this.isLogin=n},loginNameChange:function(){this.loginUser=window.sessionStorage.report_username}}}}},["NHnr"]);
//# sourceMappingURL=app.04c7b13299224016fbf3.js.map